/* mase-md3-palette.js - Minified for production */
!function($){"use strict";const e={palettes:["purple","blue","green","orange","pink"],currentPalette:"purple",init:function(){this.loadSavedPalette(),this.bindEvents(),this.applyPalette(this.currentPalette,!1),console.log("[MASE MD3] Palette system initialized")},loadSavedPalette:function(){"undefined"!=typeof maseAdmin&&maseAdmin.md3Palette&&(this.currentPalette=maseAdmin.md3Palette,console.log("[MASE MD3] Loaded saved palette:",this.currentPalette))},bindEvents:function(){const e=this;$(document).on("click",".mase-palette-selector",function(t){t.preventDefault();const a=$(this).data("palette");a&&e.palettes.includes(a)&&e.switchPalette(a)}),$(document).on("change","#mase-md3-palette-select",function(){const t=$(this).val();t&&e.palettes.includes(t)&&e.switchPalette(t)})},switchPalette:function(e){this.palettes.includes(e)?(console.log("[MASE MD3] Switching to palette:",e),this.applyPalette(e,!0),this.savePalette(e),this.updateUI(e),$(document).trigger("mase:paletteChanged",[e])):console.error("[MASE MD3] Invalid palette:",e)},applyPalette:function(e,t){const a=document.documentElement;t&&a.classList.add("mase-palette-transitioning"),a.setAttribute("data-palette",e),this.currentPalette=e,t&&setTimeout(function(){a.classList.remove("mase-palette-transitioning")},300),console.log("[MASE MD3] Applied palette:",e)},savePalette:function(e){"undefined"!=typeof maseAdmin&&maseAdmin.ajaxurl?$.ajax({url:maseAdmin.ajaxurl,type:"POST",data:{action:"mase_save_md3_palette",nonce:maseAdmin.nonce,palette:e},success:function(t){t.success?(console.log("[MASE MD3] Palette saved:",e),"undefined"!=typeof MASEMD3Snackbar&&MASEMD3Snackbar.show("Palette applied successfully","success")):console.error("[MASE MD3] Failed to save palette:",t.data)},error:function(e,t,a){console.error("[MASE MD3] AJAX error saving palette:",a)}}):console.error("[MASE MD3] AJAX URL not available")},updateUI:function(e){$(".mase-palette-selector").removeClass("active"),$('.mase-palette-selector[data-palette="'+e+'"]').addClass("active"),$("#mase-md3-palette-select").val(e),this.updatePreview(e)},updatePreview:function(e){const t=document.documentElement,a=getComputedStyle(t),n={primary:a.getPropertyValue("--md-primary").trim(),secondary:a.getPropertyValue("--md-secondary").trim(),tertiary:a.getPropertyValue("--md-tertiary").trim()};$(".mase-palette-preview-primary").css("background-color",n.primary),$(".mase-palette-preview-secondary").css("background-color",n.secondary),$(".mase-palette-preview-tertiary").css("background-color",n.tertiary)},getCurrentPalette:function(){return this.currentPalette},getAvailablePalettes:function(){return this.palettes}};$(document).ready(function(){e.init()}),window.MASEMD3Palette=e}(jQuery);