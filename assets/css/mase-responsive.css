/**
 * Material Design 3 Responsive Design Optimization
 * 
 * Mobile-first responsive design with:
 * - Mobile breakpoints (< 768px)
 * - Adjusted spacing tokens for mobile
 * - Reduced corner radius on mobile
 * - Optimized navigation for touch
 * - Simplified animations for performance
 * 
 * Requirements: 19.1, 19.2, 19.3, 19.4, 19.5
 * 
 * @package ModernAdminStyler
 * @since 1.2.0
 */

/* ==========================================================================
   MOBILE BREAKPOINTS - Requirement 19.1, 19.4
   Adjust spacing tokens and corner radius for mobile devices
   ========================================================================== */

@media (max-width: 768px) {
	/* Adjust spacing tokens for mobile - Requirement 19.1 */
	:root {
		--md-space-l: 12px;
		--md-space-xl: 20px;
		--md-space-2xl: 28px;
		--md-space-3xl: 40px;
		--md-space-4xl: 52px;
	}
	
	/* Reduce corner radius on mobile - Requirement 19.4 */
	:root {
		--md-corner-l: 12px;
		--md-corner-xl: 20px;
		--md-corner-2xl: 28px;
	}
	
	/* Container adjustments */
	.md-container {
		padding-left: var(--md-space-m);
		padding-right: var(--md-space-m);
	}
}

/* Extra small devices */
@media (max-width: 480px) {
	:root {
		--md-space-l: 10px;
		--md-space-xl: 16px;
		--md-space-2xl: 24px;
		--md-space-3xl: 32px;
	}
	
	:root {
		--md-corner-l: 10px;
		--md-corner-xl: 16px;
	}
	
	.md-container {
		padding-left: var(--md-space-s);
		padding-right: var(--md-space-s);
	}
}

/* ==========================================================================
   MOBILE NAVIGATION - Requirement 19.2, 19.3
   Stack navigation tabs vertically and increase touch targets
   ========================================================================== */

@media (max-width: 768px) {
	/* Stack navigation tabs vertically - Requirement 19.2 */
	.mase-nav-tabs,
	.nav-tab-wrapper {
		flex-direction: column;
		gap: var(--md-space-xs);
	}
	
	.mase-nav-tab,
	.nav-tab {
		width: 100%;
		text-align: left;
		justify-content: flex-start;
		/* Increase touch target sizes - Requirement 19.3 */
		min-height: 48px;
		padding: var(--md-space-m) var(--md-space-l);
	}
	
	/* Adjust padding for mobile - Requirement 19.3 */
	.mase-nav-tabs {
		padding: var(--md-space-xs);
	}
}

/* ==========================================================================
   MOBILE BUTTONS - Requirement 19.3
   Increase touch target sizes to minimum 48px
   ========================================================================== */

@media (max-width: 768px) {
	.mase-button-filled,
	.mase-button-outlined,
	.mase-button-text,
	.button,
	.wp-core-ui .button {
		min-height: 48px;
		padding: var(--md-space-m) var(--md-space-xl);
		font-size: var(--md-label-large);
	}
	
	/* FAB adjustments */
	.mase-fab {
		width: 64px;
		height: 64px;
		bottom: var(--md-space-l);
		right: var(--md-space-l);
	}
	
	.mase-fab-extended {
		min-height: 56px;
		padding: 0 var(--md-space-xl);
	}
}

/* ==========================================================================
   MOBILE FORMS - Requirement 19.3
   Increase touch targets and adjust spacing
   ========================================================================== */

@media (max-width: 768px) {
	/* Text inputs */
	.mase-text-field input,
	.mase-text-field textarea,
	input[type="text"],
	input[type="email"],
	input[type="url"],
	input[type="password"],
	input[type="search"],
	input[type="number"],
	textarea,
	select {
		min-height: 48px;
		padding: var(--md-space-m);
		font-size: var(--md-body-large);
	}
	
	/* Toggle switches */
	.mase-toggle {
		width: 60px;
		height: 36px;
	}
	
	.mase-toggle::before {
		width: 20px;
		height: 20px;
	}
	
	.mase-toggle.active::before {
		left: 32px;
		width: 28px;
		height: 28px;
	}
	
	/* Color pickers */
	.mase-color-picker {
		height: 72px;
	}
	
	/* Checkboxes and radio buttons */
	input[type="checkbox"],
	input[type="radio"] {
		width: 24px;
		height: 24px;
		min-width: 24px;
		min-height: 24px;
	}
}

/* ==========================================================================
   MOBILE TEMPLATE CARDS - Requirement 19.1, 19.4
   Adjust spacing and corner radius
   ========================================================================== */

@media (max-width: 768px) {
	.mase-template-card {
		margin-bottom: var(--md-space-l);
		border-radius: var(--md-corner-l);
	}
	
	.mase-template-preview {
		padding: var(--md-space-m);
	}
	
	.mase-template-name {
		font-size: var(--md-title-small);
		margin-top: var(--md-space-m);
	}
	
	/* Grid adjustments */
	.mase-templates-grid {
		grid-template-columns: 1fr;
		gap: var(--md-space-l);
	}
}

@media (min-width: 480px) and (max-width: 768px) {
	.mase-templates-grid {
		grid-template-columns: repeat(2, 1fr);
	}
}

/* ==========================================================================
   MOBILE HEADER - Requirement 19.1, 19.4
   Adjust header spacing and layout
   ========================================================================== */

@media (max-width: 768px) {
	.mase-md3-header {
		padding: var(--md-space-l);
		border-radius: var(--md-corner-l) var(--md-corner-l) 0 0;
	}
	
	.mase-admin-title {
		font-size: var(--md-headline-small);
	}
	
	.mase-admin-subtitle {
		font-size: var(--md-body-medium);
	}
	
	.mase-header-content {
		flex-direction: column;
		align-items: flex-start;
		gap: var(--md-space-m);
	}
	
	.mase-header-right {
		width: 100%;
		flex-wrap: wrap;
		justify-content: flex-start;
	}
	
	.mase-header-toggle span:not(.dashicons) {
		display: none;
	}
	
	.mase-header-orb {
		width: 150px;
		height: 150px;
	}
}

/* ==========================================================================
   MOBILE SNACKBAR - Requirement 19.1
   Adjust positioning and sizing
   ========================================================================== */

@media (max-width: 768px) {
	.mase-snackbar {
		left: var(--md-space-m);
		right: var(--md-space-m);
		bottom: var(--md-space-m);
		transform: translateX(0) translateY(100px);
		min-width: auto;
		max-width: none;
		padding: var(--md-space-m) var(--md-space-l);
	}
	
	.mase-snackbar.show {
		transform: translateX(0) translateY(0);
	}
}

/* ==========================================================================
   MOBILE LOADING STATES - Requirement 19.1
   Adjust sizing
   ========================================================================== */

@media (max-width: 768px) {
	.mase-progress-circular {
		width: 40px;
		height: 40px;
		border-width: 3px;
	}
	
	.mase-loading-shimmer {
		height: 14px;
	}
}

/* ==========================================================================
   SIMPLIFIED MOBILE ANIMATIONS - Requirement 19.5
   Reduce animation complexity and disable expensive effects
   ========================================================================== */

@media (max-width: 768px) {
	/* Disable expensive gradient animations */
	.mase-color-picker {
		animation: none;
		background-position: 0% 50%;
	}
	
	/* Simplify floating orb animation */
	.mase-header-orb {
		animation-duration: 8s;
	}
	
	/* Reduce shimmer animation complexity */
	.mase-template-minibar {
		animation-duration: 3s;
	}
	
	.mase-template-menuitem {
		animation-duration: 3s;
	}
	
	/* Simplify hover effects - use opacity instead of transform */
	.mase-template-card:hover {
		transform: none;
		opacity: 0.9;
	}
	
	.mase-button-filled:hover,
	.mase-button-outlined:hover {
		transform: none;
	}
	
	/* Disable scale animations on icons */
	.mase-icon-hover {
		transform: none !important;
	}
	
	/* Simplify ripple effect */
	.mase-ripple {
		animation-duration: var(--md-duration-medium-2);
	}
	
	/* Disable card lift effects */
	.mase-card-lift:hover {
		transform: none;
		box-shadow: var(--md-elevation-1);
	}
}

/* ==========================================================================
   MOBILE TYPOGRAPHY - Requirement 19.1
   Adjust font sizes for readability
   ========================================================================== */

@media (max-width: 768px) {
	:root {
		--md-display-large: 48px;
		--md-display-medium: 38px;
		--md-display-small: 30px;
		--md-headline-large: 28px;
		--md-headline-medium: 24px;
		--md-headline-small: 20px;
	}
}

@media (max-width: 480px) {
	:root {
		--md-display-large: 40px;
		--md-display-medium: 32px;
		--md-display-small: 26px;
		--md-headline-large: 24px;
		--md-headline-medium: 20px;
		--md-headline-small: 18px;
	}
}

/* ==========================================================================
   MOBILE SETTINGS PANEL - Requirement 19.1, 19.3
   Adjust layout and touch targets
   ========================================================================== */

@media (max-width: 768px) {
	.mase-settings-section {
		padding: var(--md-space-m);
		margin-bottom: var(--md-space-m);
	}
	
	.mase-settings-row {
		flex-direction: column;
		gap: var(--md-space-s);
	}
	
	.mase-settings-label {
		width: 100%;
		margin-bottom: var(--md-space-xs);
	}
	
	.mase-settings-control {
		width: 100%;
	}
	
	/* Collapsible sections */
	.mase-collapsible-header {
		min-height: 48px;
		padding: var(--md-space-m);
	}
}

/* ==========================================================================
   MOBILE PALETTE SELECTOR - Requirement 19.1, 19.3
   Adjust grid and touch targets
   ========================================================================== */

@media (max-width: 768px) {
	.mase-palette-grid {
		grid-template-columns: repeat(2, 1fr);
		gap: var(--md-space-m);
	}
	
	.mase-palette-card {
		min-height: 120px;
		padding: var(--md-space-m);
	}
	
	.mase-palette-swatch {
		width: 40px;
		height: 40px;
	}
}

@media (max-width: 480px) {
	.mase-palette-grid {
		grid-template-columns: 1fr;
	}
}

/* ==========================================================================
   MOBILE MODAL/DIALOG - Requirement 19.1, 19.3
   Full-screen modals on mobile
   ========================================================================== */

@media (max-width: 768px) {
	.mase-modal,
	.mase-dialog {
		width: 100%;
		height: 100%;
		max-width: 100%;
		max-height: 100%;
		border-radius: 0;
		margin: 0;
	}
	
	.mase-modal-header,
	.mase-dialog-header {
		padding: var(--md-space-l);
		min-height: 56px;
	}
	
	.mase-modal-content,
	.mase-dialog-content {
		padding: var(--md-space-l);
	}
	
	.mase-modal-actions,
	.mase-dialog-actions {
		padding: var(--md-space-l);
		flex-direction: column-reverse;
		gap: var(--md-space-s);
	}
	
	.mase-modal-actions .button,
	.mase-dialog-actions .button {
		width: 100%;
	}
}

/* ==========================================================================
   MOBILE TOOLTIPS - Requirement 19.3
   Adjust positioning and sizing
   ========================================================================== */

@media (max-width: 768px) {
	.mase-tooltip {
		max-width: calc(100vw - var(--md-space-2xl));
		font-size: var(--md-body-medium);
		padding: var(--md-space-s) var(--md-space-m);
	}
	
	/* Disable hover tooltips on mobile, use tap instead */
	.mase-tooltip-trigger:hover .mase-tooltip {
		display: none;
	}
	
	.mase-tooltip-trigger:active .mase-tooltip,
	.mase-tooltip-trigger.active .mase-tooltip {
		display: block;
	}
}

/* ==========================================================================
   MOBILE SEARCH - Requirement 19.3
   Adjust sizing and layout
   ========================================================================== */

@media (max-width: 768px) {
	.mase-search-field {
		width: 100%;
		margin-bottom: var(--md-space-m);
	}
	
	.mase-search-field input {
		min-height: 48px;
		padding: var(--md-space-m) var(--md-space-l);
		font-size: var(--md-body-large);
	}
	
	.mase-search-icon {
		width: 24px;
		height: 24px;
	}
}

/* ==========================================================================
   MOBILE TABLES - Requirement 19.1
   Stack table cells vertically
   ========================================================================== */

@media (max-width: 768px) {
	.mase-table-responsive {
		display: block;
		overflow-x: auto;
		-webkit-overflow-scrolling: touch;
	}
	
	.mase-table-responsive table {
		min-width: 600px;
	}
	
	/* Card-style tables for mobile */
	.mase-table-cards {
		display: block;
	}
	
	.mase-table-cards thead {
		display: none;
	}
	
	.mase-table-cards tbody,
	.mase-table-cards tr,
	.mase-table-cards td {
		display: block;
		width: 100%;
	}
	
	.mase-table-cards tr {
		margin-bottom: var(--md-space-l);
		padding: var(--md-space-m);
		background: var(--md-surface);
		border-radius: var(--md-corner-l);
		box-shadow: var(--md-elevation-1);
	}
	
	.mase-table-cards td {
		padding: var(--md-space-s) 0;
		border: none;
	}
	
	.mase-table-cards td::before {
		content: attr(data-label);
		font-weight: var(--md-weight-medium);
		display: block;
		margin-bottom: var(--md-space-xs);
		color: var(--md-on-surface-variant);
		font-size: var(--md-label-medium);
	}
}

/* ==========================================================================
   LANDSCAPE ORIENTATION - Requirement 19.1
   Optimize for landscape mobile devices
   ========================================================================== */

@media (max-width: 768px) and (orientation: landscape) {
	.mase-md3-header {
		padding: var(--md-space-m) var(--md-space-l);
	}
	
	.mase-admin-title {
		font-size: var(--md-title-large);
	}
	
	.mase-admin-subtitle {
		display: none;
	}
	
	.mase-header-orb {
		display: none;
	}
}

/* ==========================================================================
   TOUCH DEVICE OPTIMIZATIONS - Requirement 19.3
   Improve touch interactions
   ========================================================================== */

@media (hover: none) and (pointer: coarse) {
	/* Remove hover effects on touch devices */
	.mase-button-filled:hover,
	.mase-button-outlined:hover,
	.mase-button-text:hover,
	.mase-nav-tab:hover,
	.mase-template-card:hover {
		transform: none;
		box-shadow: inherit;
	}
	
	/* Use active state instead */
	.mase-button-filled:active,
	.mase-button-outlined:active,
	.mase-button-text:active {
		transform: scale(0.98);
	}
	
	/* Increase tap target spacing */
	.mase-icon-button {
		padding: var(--md-space-m);
		min-width: 48px;
		min-height: 48px;
	}
	
	/* Disable hover state layers on touch devices */
	.mase-nav-tab::before,
	.mase-button-outlined::before,
	.mase-button-text::before {
		display: none;
	}
}

/* ==========================================================================
   REDUCED MOTION SUPPORT - Requirement 19.5
   Maintain core functionality without animations
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
	@media (max-width: 768px) {
		/* Disable all animations */
		*,
		*::before,
		*::after {
			animation-duration: 0.01ms !important;
			animation-iteration-count: 1 !important;
			transition-duration: 0.01ms !important;
		}
		
		/* Maintain visibility changes */
		.mase-snackbar.show {
			opacity: 1;
		}
		
		.mase-modal.show,
		.mase-dialog.show {
			display: block;
		}
	}
}

/* ==========================================================================
   PRINT STYLES - Requirement 19.1
   Optimize for printing
   ========================================================================== */

@media print {
	.mase-md3-header,
	.mase-nav-tabs,
	.mase-fab,
	.mase-snackbar,
	.mase-header-right,
	.mase-header-orb {
		display: none;
	}
	
	.mase-template-card {
		break-inside: avoid;
		page-break-inside: avoid;
	}
	
	* {
		background: white !important;
		color: black !important;
		box-shadow: none !important;
	}
}
