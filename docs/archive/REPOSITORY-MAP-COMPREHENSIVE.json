{
  "plugin_info": {
    "name": "Modern Admin Styler Enterprise (MASE)",
    "version": "1.2.0",
    "description": "WordPress admin styling plugin with comprehensive customization",
    "main_file": "modern-admin-styler.php"
  },
  "php_files": {
    "core_classes": [
      {
        "file": "includes/class-mase-admin.php",
        "class": "MASE_Admin",
        "purpose": "Admin interface, asset enqueuing, AJAX handlers",
        "key_methods": [
          "enqueue_assets() - Enqueues CSS/JS with dependencies",
          "handle_ajax_save_settings() - Main settings save handler",
          "ajax_apply_palette() - Palette application",
          "ajax_apply_template() - Template application",
          "inject_custom_css() - Injects generated CSS into admin head"
        ],
        "lines": 5400,
        "dependencies": [
          "MASE_Settings",
          "MASE_CSS_Generator",
          "MASE_CacheManager"
        ]
      },
      {
        "file": "includes/class-mase-settings.php",
        "class": "MASE_Settings",
        "purpose": "Settings storage, retrieval, validation, defaults",
        "key_methods": [
          "get_option() - Retrieves settings with defaults",
          "update_option() - Saves settings with validation",
          "get_defaults() - Returns default settings structure",
          "validate() - Validates settings before save"
        ],
        "lines": 7881,
        "option_name": "mase_settings"
      },
      {
        "file": "includes/class-mase-css-generator.php",
        "class": "MASE_CSS_Generator",
        "purpose": "Generates CSS from settings with caching",
        "key_methods": [
          "generate() - Main CSS generation with mode-specific caching",
          "generate_admin_bar_css() - Admin bar styles",
          "generate_admin_menu_css() - Admin menu styles",
          "generate_glassmorphism_css() - Glassmorphism effects",
          "generate_gradient_background() - Gradient backgrounds"
        ],
        "lines": 7892,
        "performance_target": "<100ms generation time"
      },
      {
        "file": "includes/class-mase-cache.php",
        "class": "MASE_Cache",
        "purpose": "CSS caching using WordPress transients",
        "key_methods": [
          "get_cached_light_mode_css() - Light mode cache",
          "get_cached_dark_mode_css() - Dark mode cache",
          "set_cached_light_mode_css() - Cache light mode",
          "set_cached_dark_mode_css() - Cache dark mode",
          "invalidate_all_caches() - Clear all caches"
        ],
        "cache_keys": [
          "mase_generated_css_light_v1.3.0",
          "mase_generated_css_dark_v1.3.0",
          "mase_login_css",
          "mase_button_css"
        ]
      },
      {
        "file": "includes/class-mase-cachemanager.php",
        "class": "MASE_CacheManager",
        "purpose": "Static cache management wrapper",
        "note": "Provides static methods wrapping MASE_Cache"
      }
    ],
    "template_files": [
      {
        "file": "includes/admin-settings-page.php",
        "purpose": "Main admin settings page HTML template",
        "lines": 5972,
        "tabs": [
          "General - Palettes, Templates, Master Controls",
          "Admin Bar - Colors, Typography, Visual Effects",
          "Menu - Colors, Typography, Visual Effects",
          "Content - Background, Spacing, Layout",
          "Typography - Font controls for all areas",
          "Dashboard Widgets - Widget customization",
          "Form Controls - Input field styling",
          "Effects - Animations, Hover, Visual Effects",
          "Universal Buttons - Button styling system",
          "Backgrounds - Advanced background system",
          "Templates - Full template gallery",
          "Login Page - Login customization",
          "Advanced - Custom CSS/JS, Backup"
        ]
      }
    ],
    "additional_includes": [
      "includes/class-mase-migration.php",
      "includes/class-mase-mobile-optimizer.php",
      "includes/class-mase-rest-api.php",
      "includes/class-mase-background-migration.php",
      "includes/backgrounds-tab-content.php",
      "includes/form-controls-tab-content.php",
      "includes/login-tab-section.php",
      "includes/universal-buttons-tab-content.php",
      "includes/visual-effects-section.php",
      "includes/widgets-tab-content.php",
      "includes/templates/content-tab.php"
    ]
  },
  "js_files": {
    "main_scripts": [
      {
        "file": "assets/js/mase-admin.js",
        "purpose": "Main admin interface JavaScript",
        "dependencies": [
          "jquery",
          "wp-color-picker",
          "mase-asset-loader"
        ],
        "key_modules": [
          "MASE.livePreview - Live preview functionality",
          "MASE.darkMode - Dark mode toggle",
          "MASE.palettes - Palette management",
          "MASE.templates - Template management",
          "MASE.settings - Settings save/load"
        ],
        "enqueue_priority": "Main script loaded after asset loader"
      },
      {
        "file": "assets/js/mase-accessibility.js",
        "purpose": "Accessibility features (WCAG 2.1 AA compliance)",
        "dependencies": [
          "jquery"
        ],
        "features": [
          "Keyboard navigation",
          "Focus indicators",
          "Screen reader announcements",
          "ARIA attributes"
        ]
      },
      {
        "file": "assets/js/mase-pattern-library.js",
        "purpose": "Pattern library for backgrounds",
        "dependencies": [
          "jquery",
          "mase-admin",
          "mase-asset-loader"
        ],
        "localized_data": "masePatternLibrary"
      },
      {
        "file": "assets/js/mase-position-picker.js",
        "purpose": "Background position picker UI",
        "dependencies": [
          "jquery",
          "mase-admin",
          "mase-asset-loader"
        ]
      }
    ],
    "modules": [
      {
        "file": "assets/js/modules/mase-asset-loader.js",
        "purpose": "Lazy loading and performance utilities",
        "note": "Must load FIRST - provides debounce/throttle",
        "dependencies": [
          "jquery"
        ]
      },
      {
        "file": "assets/js/modules/mase-gradient-builder.js",
        "purpose": "Gradient builder UI",
        "dependencies": [
          "jquery",
          "wp-color-picker",
          "mase-admin",
          "mase-asset-loader"
        ],
        "loading": "On-demand when gradient tab active"
      },
      {
        "file": "assets/js/modules/mase-compatibility.js",
        "purpose": "Browser feature detection and fallbacks",
        "dependencies": [
          "jquery"
        ],
        "note": "Loads early for feature detection"
      },
      {
        "file": "assets/js/modules/mase-error-recovery.js",
        "purpose": "Error recovery mechanisms",
        "dependencies": [
          "jquery",
          "mase-admin"
        ],
        "note": "Sets up global error handlers"
      },
      {
        "file": "assets/js/modules/mase-background-accessibility.js",
        "purpose": "Background system accessibility",
        "dependencies": [
          "jquery",
          "mase-admin",
          "mase-gradient-builder",
          "mase-pattern-library",
          "mase-position-picker"
        ]
      },
      {
        "file": "assets/js/modules/event-bus.js",
        "purpose": "Event system for module communication"
      },
      {
        "file": "assets/js/modules/state-manager.js",
        "purpose": "State management for settings"
      },
      {
        "file": "assets/js/modules/palette-manager.js",
        "purpose": "Palette management logic"
      },
      {
        "file": "assets/js/modules/template-manager.js",
        "purpose": "Template management logic"
      },
      {
        "file": "assets/js/modules/preview-engine.js",
        "purpose": "Live preview rendering engine"
      }
    ]
  },
  "css_files": {
    "main_stylesheets": [
      {
        "file": "assets/css/mase-admin.css",
        "purpose": "Main admin interface styles",
        "dependencies": [
          "wp-color-picker"
        ],
        "note": "Base stylesheet for settings page"
      },
      {
        "file": "assets/css/mase-palettes.css",
        "purpose": "Palette gallery styles",
        "dependencies": [
          "mase-admin"
        ]
      },
      {
        "file": "assets/css/mase-templates.css",
        "purpose": "Template gallery styles",
        "dependencies": [
          "mase-admin"
        ]
      },
      {
        "file": "assets/css/mase-accessibility.css",
        "purpose": "Accessibility enhancements",
        "dependencies": [
          "mase-admin"
        ],
        "features": [
          "Focus indicators",
          "High contrast support",
          "Screen reader utilities"
        ]
      },
      {
        "file": "assets/css/mase-responsive.css",
        "purpose": "Responsive design styles",
        "dependencies": [
          "mase-admin"
        ],
        "breakpoints": [
          "Mobile: <768px",
          "Tablet: 768-1024px",
          "Desktop: >1024px"
        ]
      },
      {
        "file": "assets/css/mase-pattern-library.css",
        "purpose": "Pattern library UI styles"
      },
      {
        "file": "assets/css/mase-animation-editor.css",
        "purpose": "Animation editor UI styles"
      }
    ]
  },
  "test_files": {
    "e2e_tests": [
      {
        "directory": "tests/e2e",
        "framework": "Playwright",
        "files": [
          "comprehensive-functionality-test.spec.js",
          "quick-smoke-test.spec.js"
        ],
        "config": "playwright.config.js",
        "auth": "tests/e2e/.auth/"
      }
    ],
    "visual_tests": [
      {
        "directory": "tests/visual-interactive",
        "purpose": "Visual regression and interactive testing",
        "structure": {
          "scenarios": "Test scenarios organized by feature",
          "helpers": "Test helper utilities",
          "reports": "Test execution reports"
        },
        "key_files": [
          "orchestrator.cjs - Test orchestration",
          "runner.cjs - Test execution",
          "reporter.cjs - Report generation",
          "config.cjs - Test configuration"
        ]
      }
    ],
    "cypress_tests": [
      {
        "directory": "tests/cypress",
        "framework": "Cypress",
        "config": "cypress.config.js"
      }
    ]
  },
  "key_directories": {
    "includes": {
      "purpose": "PHP backend classes and admin functionality",
      "structure": "One class per file pattern (class-mase-*.php)"
    },
    "assets/js": {
      "purpose": "JavaScript files for admin interface",
      "structure": "Main scripts + modules subdirectory"
    },
    "assets/css": {
      "purpose": "Stylesheets for admin styling",
      "naming": "BEM with mase- prefix"
    },
    "tests": {
      "purpose": "Testing suites",
      "types": [
        "e2e",
        "visual-interactive",
        "cypress",
        "benchmarks"
      ]
    },
    "docs": {
      "purpose": "Documentation and guides",
      "categories": [
        "User guides",
        "Developer guides",
        "Architecture",
        "Task summaries"
      ]
    },
    "languages": {
      "purpose": "Localization files",
      "files": [
        "POT template",
        "PO/MO translations"
      ]
    }
  },
  "recent_changes": {
    "glassmorphism_fix": {
      "file": "includes/class-mase-css-generator.php",
      "method": "generate_admin_menu_css()",
      "change": "Skip background CSS when glassmorphism enabled",
      "reason": "Prevent background override of glassmorphism effect",
      "lines_modified": "948-978",
      "requirements": [
        "6.1",
        "6.2",
        "6.4",
        "6.5",
        "12.1",
        "12.2",
        "12.3"
      ]
    }
  },
  "architecture_patterns": {
    "php": {
      "pattern": "WordPress plugin architecture",
      "conventions": [
        "One class per file",
        "WordPress hooks/filters exclusively",
        "Security: nonce verification, capability checks, input sanitization",
        "Settings stored in wp_options table"
      ]
    },
    "javascript": {
      "pattern": "Module pattern with jQuery",
      "conventions": [
        "Namespace: MASE global object",
        "jQuery(document).ready() wrappers",
        "Event-driven architecture",
        "Localized data via wp_localize_script()"
      ]
    },
    "css": {
      "pattern": "BEM methodology",
      "conventions": [
        "Prefix: mase-",
        "CSS custom properties for theming",
        "Mobile-first responsive design"
      ]
    }
  },
  "performance_optimizations": {
    "caching": {
      "strategy": "Mode-specific CSS caching",
      "cache_keys": [
        "Light mode",
        "Dark mode",
        "Login",
        "Buttons"
      ],
      "invalidation": "On settings save or mode toggle"
    },
    "lazy_loading": {
      "assets": "Conditional loading based on active tab",
      "modules": "On-demand module loading via asset loader"
    },
    "css_generation": {
      "target": "<100ms generation time",
      "method": "String concatenation (faster than array joins)"
    }
  },
  "security_features": {
    "input_validation": "All inputs sanitized (sanitize_text_field, sanitize_hex_color, absint)",
    "output_escaping": "All outputs escaped (esc_html, esc_attr, esc_url)",
    "ajax_security": "Nonce verification + capability checks on all AJAX handlers",
    "file_uploads": "Type validation, size limits, MIME verification, SVG sanitization"
  },
  "accessibility_compliance": {
    "standard": "WCAG 2.1 AA",
    "features": [
      "Keyboard navigation",
      "Focus indicators",
      "ARIA labels and attributes",
      "Screen reader announcements",
      "Color contrast compliance"
    ]
  }
}