{
  "name": "after-feature-complete",
  "description": "Validates after feature completion - production readiness check",
  "version": "1.0.0",
  "trigger": "afterFeatureComplete",
  "enabled": true,
  "prompt": "You are validating a completed feature for MASE v1.2.0.\n\n**FEATURE:** {{featureName}}\n**FILES MODIFIED:** {{fileCount}}\n\n**PRODUCTION READINESS CHECKLIST:**\n\n**YOUR TASK:**\nComprehensive validation that feature is ready for production.\n\n**OUTPUT FORMAT:**\n```\nüéØ FEATURE COMPLETION VALIDATION: {{featureName}}\n\n[FILES OVERVIEW]\nTotal files: {{fileCount}}\n\n{{#each files}}\n- {{this.name}} ({{this.lines}} lines)\n  Status: {{this.status}}\n{{/each}}\n\n[FILE SIZE COMPLIANCE]\n‚úÖ/‚ùå All files <500 lines\n\n{{#if oversized_files}}\n‚ùå Oversized files:\n{{#each oversized_files}}\n- {{this.name}}: {{this.lines}}/500 lines\n  Action: Refactor before commit\n{{/each}}\n{{/if}}\n\n[CODE QUALITY]\n‚úÖ/‚ùå No magic numbers\n‚úÖ/‚ùå No duplicated code\n‚úÖ/‚ùå Follows naming conventions\n‚úÖ/‚ùå Proper error handling\n‚úÖ/‚ùå All methods <50 lines\n‚úÖ/‚ùå Complexity ‚â§10\n\n{{#if quality_issues}}\nIssues found:\n{{#each quality_issues}}\n{{@index}}. {{this.file}}:{{this.line}}\n   Issue: {{this.issue}}\n   Fix: {{this.fix}}\n{{/each}}\n{{/if}}\n\n[SECURITY AUDIT]\n‚úÖ/‚ùå All AJAX endpoints secured\n‚úÖ/‚ùå Input sanitization complete\n‚úÖ/‚ùå Output escaping implemented\n‚úÖ/‚ùå No SQL injection risks\n‚úÖ/‚ùå Capability checks present\n\nSecurity score: {{security_score}}/100\n\n{{#if security_vulnerabilities}}\nüö® SECURITY VULNERABILITIES FOUND:\n{{#each security_vulnerabilities}}\n{{@index}}. {{this.severity}}: {{this.description}}\n   File: {{this.file}}:{{this.line}}\n   Risk: {{this.risk}}\n   Fix: {{this.fix}}\n{{/each}}\n\n‚ùå FEATURE BLOCKED - FIX SECURITY ISSUES\n{{/if}}\n\n[PERFORMANCE]\n‚úÖ/‚ùå Caching implemented\n‚úÖ/‚ùå No N+1 queries\n‚úÖ/‚ùå Efficient algorithms\n‚úÖ/‚ùå Memory usage acceptable\n\nPerformance metrics:\n{{#each performance_metrics}}\n- {{this.metric}}: {{this.value}} (target: {{this.target}})\n  Status: {{this.status}}\n{{/each}}\n\n{{#if performance_issues}}\n‚ö†Ô∏è Performance concerns:\n{{#each performance_issues}}\n- {{this.issue}}\n  Impact: {{this.impact}}\n  Fix: {{this.fix}}\n{{/each}}\n{{/if}}\n\n[TESTING]\n‚úÖ/‚ùå Unit tests written\n‚úÖ/‚ùå All tests passing\n‚úÖ/‚ùå Coverage ‚â•70%\n‚úÖ/‚ùå Edge cases covered\n‚úÖ/‚ùå Error cases tested\n\nTest summary:\n- Total tests: {{total_tests}}\n- Passing: {{passing_tests}}\n- Failing: {{failing_tests}}\n- Coverage: {{coverage}}%\n\n{{#if failing_tests}}\n‚ùå FAILING TESTS:\n{{#each failing_tests}}\n- {{this.name}}\n  Error: {{this.error}}\n{{/each}}\n{{/if}}\n\n{{#if low_coverage}}\n‚ö†Ô∏è Coverage below threshold: {{coverage}}% (target: 70%)\n\nUntested methods:\n{{#each untested_methods}}\n- {{this.class}}::{{this.method}}()\n{{/each}}\n\nAdd tests to reach 70% coverage.\n{{/if}}\n\n[DOCUMENTATION]\n‚úÖ/‚ùå Code docblocks complete\n‚úÖ/‚ùå API documentation updated\n‚úÖ/‚ùå User guide updated\n‚úÖ/‚ùå CHANGELOG.md updated\n‚úÖ/‚ùå Inline comments for complex logic\n\n{{#if doc_missing}}\nMissing documentation:\n{{#each doc_missing}}\n- {{this.type}}: {{this.description}}\n  Action: {{this.action}}\n{{/each}}\n{{/if}}\n\n[WORDPRESS STANDARDS]\n‚úÖ/‚ùå No deprecated functions\n‚úÖ/‚ùå Translatable strings\n‚úÖ/‚ùå ABSPATH checks\n‚úÖ/‚ùå Follows coding standards\n‚úÖ/‚ùå Hooks properly registered\n\n[BROWSER COMPATIBILITY]\n‚úÖ/‚ùå Tested in Chrome\n‚úÖ/‚ùå Tested in Firefox\n‚úÖ/‚ùå Tested in Safari\n‚úÖ/‚ùå Tested in Edge\n‚úÖ/‚ùå Mobile responsive\n\n{{#if not_tested}}\n‚ö†Ô∏è Browser testing incomplete\nTest in: {{browsers_to_test}}\n{{/if}}\n\n[ACCESSIBILITY]\n‚úÖ/‚ùå Keyboard navigation\n‚úÖ/‚ùå Screen reader compatible\n‚úÖ/‚ùå ARIA labels present\n‚úÖ/‚ùå Color contrast sufficient\n‚úÖ/‚ùå Focus indicators visible\n\nAccessibility score: {{a11y_score}}/100\n\n[MANUAL TESTING]\n‚úÖ/‚ùå Feature tested manually\n‚úÖ/‚ùå Happy path works\n‚úÖ/‚ùå Error handling works\n‚úÖ/‚ùå Edge cases handled\n‚úÖ/‚ùå No console errors\n\n{{#if not_manually_tested}}\n‚ö†Ô∏è Manual testing required\n\nTest checklist:\n{{#each manual_test_steps}}\n- [ ] {{this}}\n{{/each}}\n{{/if}}\n\n[INTEGRATION]\n‚úÖ/‚ùå Integrates with existing features\n‚úÖ/‚ùå No breaking changes\n‚úÖ/‚ùå Backward compatible\n‚úÖ/‚ùå Migration path provided (if needed)\n\n[SUMMARY]\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nTotal checks: {{total_checks}}\n‚úÖ Passed: {{passed}} ({{pass_percentage}}%)\n‚ùå Failed: {{failed}}\n‚ö†Ô∏è Warnings: {{warnings}}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n[BLOCKING ISSUES]\n{{#if blocking_issues}}\nüö® CRITICAL ISSUES - MUST FIX BEFORE RELEASE:\n{{#each blocking_issues}}\n{{@index}}. {{this.category}}: {{this.issue}}\n   Severity: {{this.severity}}\n   Impact: {{this.impact}}\n   Fix: {{this.fix}}\n   Estimated time: {{this.time}}\n{{/each}}\n{{/if}}\n\n[WARNINGS]\n{{#if warnings_list}}\n‚ö†Ô∏è NON-BLOCKING ISSUES - SHOULD FIX:\n{{#each warnings_list}}\n{{@index}}. {{this.issue}}\n   Impact: {{this.impact}}\n   Fix: {{this.fix}}\n{{/each}}\n{{/if}}\n\n[OPTIONAL IMPROVEMENTS]\n{{#each improvements}}\n- {{this}}\n{{/each}}\n\n[FINAL VERDICT]\n{{#if has_blocking}}\n‚ùå FEATURE NOT READY FOR PRODUCTION\n\nBlocking issues must be resolved.\nEstimated fix time: {{total_fix_time}}\n{{else if has_warnings}}\n‚ö†Ô∏è FEATURE READY WITH WARNINGS\n\nFeature is functional but has non-critical issues.\nRecommend fixing warnings before release.\n{{else}}\n‚úÖ FEATURE PRODUCTION READY\n\nAll checks passed!\nFeature is ready for:\n- Code review\n- Merge to main branch\n- Production deployment\n{{/if}}\n\n[NEXT STEPS]\n{{#if has_blocking}}\n1. Fix blocking issues\n2. Re-run validation\n3. Request code review\n{{else}}\n1. Request code review\n2. Update version number\n3. Create pull request\n4. Merge to main\n5. Tag release\n{{/if}}\n\n[RELEASE CHECKLIST]\n- [ ] All tests passing\n- [ ] Documentation complete\n- [ ] CHANGELOG.md updated\n- [ ] Version bumped\n- [ ] Security audit passed\n- [ ] Performance acceptable\n- [ ] Manual testing complete\n- [ ] Code reviewed\n- [ ] Ready for production\n```\n\nBe comprehensive and provide clear action items."
}
