---
inclusion: always
---

# Debugging Priority

Check in this order. Higher priority issues mask lower ones.

## Priority Levels

### P1: CRITICAL - Duplicate Systems

Multiple implementations of same functionality cause conflicts.

**Symptoms:**

- Conflicting event handlers on same elements
- Duplicate AJAX endpoints/handlers
- Multiple component initializations

**Detection:**

```bash
grep -r "function_name" includes/ assets/
grep -r "wp_ajax_action_name" includes/
```

- Count event bindings on same selector
- Check for multiple `add_action('wp_ajax_...')` with same action

**Action:** Alert immediately with `[file:line]` for each duplicate. Pause other analysis until resolved.

### P2: CRITICAL - Race Conditions

Initialization order or timing issues.

**Symptoms:**

- Event handlers attached before DOM ready
- Scripts loading in wrong order
- Async operations without proper sequencing

**Detection:**

- Verify script enqueue order in `MASE_Admin::enqueue_admin_assets()`
- Check for missing `jQuery(document).ready()` wrappers
- Verify dependencies in `wp_enqueue_script()`

### P3: HIGH - Blocking Elements

CSS or DOM preventing interaction.

**Symptoms:**

- `pointer-events: none`, `display: none`, `visibility: hidden`
- Z-index conflicts
- Overlapping elements blocking clicks

**Detection:**

- Inspect computed CSS in DevTools
- Check element dimensions and positioning

### P4: MEDIUM - Incorrect Selectors

Selectors not matching intended elements.

**Symptoms:**

- Mismatched class/ID names
- Non-existent elements
- Overly specific or broad selectors

**Detection:**

- Test in console: `jQuery('selector').length`
- Verify selectors match HTML structure

### P5: LOW - Performance Issues

Inefficient operations.

**Symptoms:**

- Slow queries or loops
- Unnecessary DOM manipulations
- Missing caching

**Detection:**

- Profile with DevTools Performance tab
- Check for N+1 queries
- Verify `MASE_Cache` usage

## Critical Rule: Duplicate Systems

If duplicates detected:

1. Alert immediately with `[file:line]` evidence
2. Pause all other analysis
3. Resolve conflict first (remove or consolidate)
4. Document decision
5. Verify only one system remains

**Duplicates are the #1 cause of "nothing works" issues.**
