---
inclusion: always
---

# WordPress Plugin Standards

Modern Admin Styler is a WordPress admin styling plugin. Follow WordPress conventions and security best practices.

## Code Style

### PHP
- **Security**: Sanitize inputs (`sanitize_text_field()`, `sanitize_key()`, `absint()`), escape outputs (`esc_html()`, `esc_attr()`, `esc_url()`)
- **AJAX**: Verify nonces with `check_ajax_referer()`, check `current_user_can('manage_options')`
- **Architecture**: Use WordPress hooks/filters exclusively

### JavaScript
- **Enqueue**: Use `wp_enqueue_script()` with dependencies `['jquery']`
- **Data passing**: Use `wp_localize_script()` for nonces and AJAX URLs
- **Initialization**: Wrap in `jQuery(document).ready()`
- **DOM**: Use jQuery (WordPress standard)

### CSS
- **Enqueue**: Use `wp_enqueue_style()`
- **Naming**: BEM convention `.mase-component__element--modifier`, prefix all classes with `mase-`
- **Theming**: Use CSS custom properties

## Architecture

### File Organization
- `includes/class-mase-*.php` - One class per file
- `includes/admin-settings-page.php` - Admin page HTML
- `assets/js/mase-*.js` - JavaScript modules
- `assets/css/mase-*.css` - Stylesheets

### Core Classes
- `MASE_Admin` - Asset enqueuing, AJAX handlers
- `MASE_Settings` - Settings CRUD
- `MASE_CSS_Generator` - Dynamic CSS generation
- `MASE_Cache` - Performance caching

## Investigation Rules

### Required Before Changes
1. Read complete files (not snippets)
2. Search for patterns: `grep -r "pattern" includes/ assets/`
3. Cite evidence: `[filename.php:line]` with code snippets
4. Check for existing implementations

### Forbidden
- Vague language ("probably", "might be", "could be")
- Assumptions without verification
- Changes without understanding context

### Required
- File references with line numbers
- Code snippets as evidence
- Syntax verification before suggestions
