---
inclusion: always
---
---
inclusion: always
---

# Incremental Analysis

Investigate layer by layer. Complete understanding before implementing.

## Analysis Sequence

Debug in this exact order:

1. **PHP Layer** - Asset enqueuing, AJAX handlers, nonces, capabilities
2. **JavaScript Layer** - Event bindings, AJAX calls, initialization order
3. **HTML/CSS Layer** - DOM structure, selectors, visibility, z-index
4. **Tests** - Run tests to verify and reproduce issue
5. **Synthesis** - Combine all findings to identify root cause

## Critical Rules

**NEVER:**
- Jump to conclusions after reading one file
- Skip sequence steps
- Implement before understanding root cause
- Assume first issue found is the only issue

**ALWAYS:**
- Build knowledge incrementally
- Document findings at each step with `[file:line]` references
- Verify assumptions before proceeding
- Complete full analysis before proposing solutions

## Example: Button Click Not Working

**Step 1 - PHP Layer:**
- Is JS enqueued in `MASE_Admin::enqueue_admin_assets()`?
- Is nonce passed via `wp_localize_script()`?
- Is AJAX handler registered with `add_action('wp_ajax_...')`?
- Does handler verify nonce and capabilities?

**Step 2 - JavaScript Layer:**
- Is event listener attached to correct selector?
- Does AJAX call fire? (Check Network tab)
- Any JavaScript errors? (Check Console)
- Is initialization wrapped in `jQuery(document).ready()`?

**Step 3 - HTML/CSS Layer:**
- Is button present in DOM?
- Check computed styles: `pointer-events`, `display`, `visibility`
- Z-index conflicts or overlapping elements blocking clicks?

**Step 4 - Tests:**
- Does test suite reproduce the issue?
- What do test results show?

**Step 5 - Synthesis:**
- Combine evidence from all layers
- Identify root cause with `[file:line]` references
- Propose targeted fix addressing root cause only